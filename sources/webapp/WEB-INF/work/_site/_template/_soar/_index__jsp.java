/*
 * JSP generated by Resin 2.1.16 (built Tue Feb 15 11:12:27 PST 2005)
 */

package _site._template._soar;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import org.myconf.beans.*;
import org.myconf.dao.*;
import org.myconf.util.StringUtils;
import org.myconf.util.*;
import java.util.*;

public class _index__jsp extends com.caucho.jsp.JavaPage{
  private boolean _caucho_isDead;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    com.caucho.jsp.QPageContext pageContext = (com.caucho.jsp.QPageContext) com.caucho.jsp.QJspFactory.create().getPageContext(this, request, response, "/error.jsp", true, 8192, true);
    javax.servlet.jsp.JspWriter out = (javax.servlet.jsp.JspWriter) pageContext.getOut();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    javax.servlet.http.HttpSession session = pageContext.getSession();
    javax.servlet.ServletContext application = pageContext.getServletContext();
    response.setContentType("text/html;charset=UTF-8");
    request.setCharacterEncoding("UTF-8");
    org.apache.struts.taglib.bean.MessageTag _jsp_tag0 = null;
    try {
      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      
//*********************************
//security
//*********************************

      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      
//*********************************
//define
//*********************************

      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      org.myconf.beans.LangBean lang;
      lang = (org.myconf.beans.LangBean) request.getAttribute("lang");
      if (lang == null) {
        lang = new org.myconf.beans.LangBean();
        request.setAttribute("lang", lang);
      }
      pageContext.write(_jsp_string0, 0, _jsp_string0.length);
      java.lang.String templateroot;
      templateroot = (java.lang.String) request.getAttribute("templateroot");
      if (templateroot == null) {
        templateroot = new java.lang.String();
        request.setAttribute("templateroot", templateroot);
      }
      pageContext.write(_jsp_string1, 0, _jsp_string1.length);
      
	
	LangBean lbean=(LangBean)request.getAttribute("lang");
	String temproot=(String) request.getAttribute("temproot");
	List list=LangDAO.getLangPubish();
	List mlist=MenuDAO.getMenuByVersion(lbean);
	ContentBean cbean=null;	
	ConfigBean conf=ConfigDAO.getCurrentConfig(ConfigBean.CONFIG_ID);
	String banner=StringUtils.exportString(conf.getBanner());
    



      pageContext.write(_jsp_string2, 0, _jsp_string2.length);
      if (_jsp_tag0 == null) {
        _jsp_tag0 = new org.apache.struts.taglib.bean.MessageTag();
        _jsp_tag0.setPageContext(pageContext);
        _jsp_tag0.setParent((javax.servlet.jsp.tagext.Tag) null);
        _jsp_tag0.setKey("common.title.keyword");
      }

      _jsp_tag0.doStartTag();
      pageContext.write(_jsp_string3, 0, _jsp_string3.length);
      out.print((temproot));
      pageContext.write(_jsp_string4, 0, _jsp_string4.length);
      
if(list!=null&&list.size()>1){


      pageContext.write(_jsp_string5, 0, _jsp_string5.length);
      if(lbean!=null){if(lbean.getId()==LangBean.LANG_ZH_CN){ out.println(org.myconf.Globals.LANGUAGE_SIMPLIFIED);} if(lbean.getId()==LangBean.LANG_ZH_TW){ out.println(org.myconf.Globals.LANGUAGE_TRADITIONAL);} if(lbean.getId()==LangBean.LANG_ENGLISH){ out.println(org.myconf.Globals.LANGUAGE_ENGLISH);}}
      pageContext.write(_jsp_string6, 0, _jsp_string6.length);
      
		
			for(int i=0;i<list.size();i++){
				LangBean lb=(LangBean)list.get(i);
				if(lb.getId()!=lbean.getId())
					{
						if(lb.getId()==LangBean.LANG_ZH_CN)
							{
								out.println(" | "+"<a href='"+request.getContextPath()+"/index.do?lang="+lb.getId()+"'>"+org.myconf.Globals.LANGUAGE_SIMPLIFIED+"</a>");
							}
						
						if(lb.getId()==LangBean.LANG_ZH_TW)
							{
								out.println(" | "+"<a href='"+request.getContextPath()+"/index.do?lang="+lb.getId()+"'>"+org.myconf.Globals.LANGUAGE_TRADITIONAL+"</a>");
							}	
						
						if(lb.getId()==LangBean.LANG_ENGLISH)
							{
								out.println(" | "+"<a href='"+request.getContextPath()+"/index.do?lang="+lb.getId()+"'>"+org.myconf.Globals.LANGUAGE_ENGLISH+"</a>");
							}		
					}
					
			}
		
		
		
		
      pageContext.write(_jsp_string7, 0, _jsp_string7.length);
      }
      pageContext.write(_jsp_string8, 0, _jsp_string8.length);
      if(!banner.equals("")){out.println("100");}else{
      pageContext.write(_jsp_string9, 0, _jsp_string9.length);
      }
      pageContext.write(_jsp_string10, 0, _jsp_string10.length);
      if(!banner.equals("")){out.println(banner);}else{
      out.print((temproot));
      pageContext.write(_jsp_string11, 0, _jsp_string11.length);
      }
      pageContext.write(_jsp_string12, 0, _jsp_string12.length);
      if(lbean!=null){if(lbean.getShow2()==1){out.println(StringUtils.exportString(lbean.getShortName()));}}
      pageContext.write(_jsp_string13, 0, _jsp_string13.length);
      if(lbean!=null){if(lbean.getShow1()==1){out.println(StringUtils.exportString(lbean.getConfName()));}}
      pageContext.write(_jsp_string14, 0, _jsp_string14.length);
      if(banner.equals("")){
      pageContext.write(_jsp_string15, 0, _jsp_string15.length);
      out.print((temproot));
      pageContext.write(_jsp_string16, 0, _jsp_string16.length);
      }
      pageContext.write(_jsp_string17, 0, _jsp_string17.length);
      out.print((temproot));
      pageContext.write(_jsp_string18, 0, _jsp_string18.length);
      out.print((temproot));
      pageContext.write(_jsp_string19, 0, _jsp_string19.length);
      out.print((temproot));
      pageContext.write(_jsp_string20, 0, _jsp_string20.length);
      
            	  
				   	if(mlist!=null&&mlist.size()>0){
				   		for(int i=0;i<mlist.size();i++){
				   			MenuBean mbean=(MenuBean) mlist.get(i);	
				   			if(mbean.getPublished()==1){
				   			StringBuffer name=new StringBuffer();
				   			String menuName=StringUtils.exportString(mbean.getMenuName());
				   			if(StringUtils.exportString(mbean.getStyle()).indexOf("2")>=0){menuName=name.append("<b>").append(menuName).append("</b>").toString();}
				   		
				   					
				   
      pageContext.write(_jsp_string21, 0, _jsp_string21.length);
      
                if(StringUtils.exportString(mbean.getType()).equals("url")){
                 
      pageContext.write(_jsp_string22, 0, _jsp_string22.length);
      out.print((StringUtils.exportString(mbean.getLink())));
      pageContext.write(_jsp_string23, 0, _jsp_string23.length);
      }else{
				 
				 	
				 
      pageContext.write(_jsp_string24, 0, _jsp_string24.length);
      out.print((request.getContextPath()));
      pageContext.write(_jsp_string25, 0, _jsp_string25.length);
      out.print((lbean.getId()));
      pageContext.write(_jsp_string26, 0, _jsp_string26.length);
      out.print((StringUtils.exportString(mbean.getLink())));
      pageContext.write(_jsp_string27, 0, _jsp_string27.length);
      }
      pageContext.write(_jsp_string28, 0, _jsp_string28.length);
      out.print((StringUtils.exportString(mbean.getOpenType())));
      pageContext.write(_jsp_string29, 0, _jsp_string29.length);
      out.print((menuName));
      if(StringUtils.exportString(mbean.getStyle()).indexOf("1")>=0){
      pageContext.write(_jsp_string30, 0, _jsp_string30.length);
      out.print((request.getContextPath()));
      pageContext.write(_jsp_string31, 0, _jsp_string31.length);
      }
      pageContext.write(_jsp_string32, 0, _jsp_string32.length);
      
      			}
						}
					}
				 	
      pageContext.write(_jsp_string33, 0, _jsp_string33.length);
      
          		int contentId=RequestUtils.getParam(request, "contentId", 0);
          		
          		cbean=ContentDAO.getContentByID(contentId);
          		
          		if(cbean==null)
          		cbean=ContentDAO.getDefaultContent(lbean);
          		
				if(cbean!=null){
					out.println(StringUtils.exportString(cbean.getPagetext()));
				}else{
					out.println("<font color='red' size='3'><b>Not Published or Under Construction!</b></font>");
				
				}
			
          	
      pageContext.write(_jsp_string34, 0, _jsp_string34.length);
      out.print((temproot));
      pageContext.write(_jsp_string35, 0, _jsp_string35.length);
      out.print((StringUtils.exportString(lbean.getCopyright())));
      pageContext.write(_jsp_string36, 0, _jsp_string36.length);
      out.print((StringUtils.exportString(lbean.getEmail())));
      pageContext.write(_jsp_string37, 0, _jsp_string37.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      if (_jsp_tag0 != null)
        _jsp_tag0.release();
      JspFactory.getDefaultFactory().releasePageContext(pageContext);
    }
  }

  private com.caucho.java.LineMap _caucho_line_map;
  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.util.CauchoSystem.getVersionId() != -2089842219)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.vfs.Depend depend;
      depend = (com.caucho.vfs.Depend) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public com.caucho.java.LineMap _caucho_getLineMap()
  {
    return _caucho_line_map;
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.java.LineMap lineMap,
                   com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    mergePath.addClassPath(getClass().getClassLoader());
    _caucho_line_map = new com.caucho.java.LineMap("_index__jsp.java", "/conf1/site/template/soar/index.jsp");
    _caucho_line_map.add(18, 1);
    _caucho_line_map.add(2, 34);
    _caucho_line_map.add(7, 40);
    _caucho_line_map.add(12, 46);
    _caucho_line_map.add(22, 62);
    _caucho_line_map.add(24, 69);
    _caucho_line_map.add(39, 83);
    _caucho_line_map.add(42, 92);
    _caucho_line_map.add(51, 99);
    _caucho_line_map.add(54, 101);
    _caucho_line_map.add(85, 129);
    _caucho_line_map.add(87, 133);
    _caucho_line_map.add(90, 135);
    _caucho_line_map.add(90, 136);
    _caucho_line_map.add(90, 138);
    _caucho_line_map.add(94, 140);
    _caucho_line_map.add(98, 142);
    _caucho_line_map.add(104, 144);
    _caucho_line_map.add(108, 146);
    _caucho_line_map.add(114, 148);
    _caucho_line_map.add(118, 150);
    _caucho_line_map.add(119, 152);
    _caucho_line_map.add(126, 154);
    _caucho_line_map.add(133, 156);
    _caucho_line_map.add(147, 169);
    _caucho_line_map.add(150, 173);
    _caucho_line_map.add(151, 175);
    _caucho_line_map.add(155, 180);
    _caucho_line_map.add(155, 182);
    _caucho_line_map.add(155, 184);
    _caucho_line_map.add(156, 186);
    _caucho_line_map.add(157, 188);
    _caucho_line_map.add(157, 190);
    _caucho_line_map.add(157, 191);
    _caucho_line_map.add(157, 193);
    _caucho_line_map.add(157, 195);
    _caucho_line_map.add(160, 197);
    _caucho_line_map.add(183, 203);
    _caucho_line_map.add(210, 220);
    _caucho_line_map.add(211, 222);
    _caucho_line_map.add(211, 224);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("site/template/soar/index.jsp"), 1187447663375L, 7472L);
    _caucho_depends.add(depend);
  }

  protected void _caucho_clearDepends()
  {
    _caucho_depends.clear();
  }

  private static byte []_jsp_string19;
  private static byte []_jsp_string23;
  private static byte []_jsp_string15;
  private static byte []_jsp_string25;
  private static byte []_jsp_string2;
  private static byte []_jsp_string14;
  private static byte []_jsp_string24;
  private static byte []_jsp_string16;
  private static byte []_jsp_string30;
  private static byte []_jsp_string7;
  private static byte []_jsp_string13;
  private static byte []_jsp_string35;
  private static byte []_jsp_string37;
  private static byte []_jsp_string28;
  private static byte []_jsp_string0;
  private static byte []_jsp_string8;
  private static byte []_jsp_string21;
  private static byte []_jsp_string3;
  private static byte []_jsp_string32;
  private static byte []_jsp_string33;
  private static byte []_jsp_string5;
  private static byte []_jsp_string11;
  private static byte []_jsp_string10;
  private static byte []_jsp_string18;
  private static byte []_jsp_string22;
  private static byte []_jsp_string9;
  private static byte []_jsp_string20;
  private static byte []_jsp_string36;
  private static byte []_jsp_string27;
  private static byte []_jsp_string12;
  private static byte []_jsp_string17;
  private static byte []_jsp_string29;
  private static byte []_jsp_string34;
  private static byte []_jsp_string31;
  private static byte []_jsp_string26;
  private static byte []_jsp_string4;
  private static byte []_jsp_string6;
  private static byte []_jsp_string1;
  static {
    try {
      _jsp_string19 = "images/index_09.jpg\" width=584></TD>\r\n    <TD width=15></TD></TR>\r\n  </TBODY>\r\n</TABLE>\r\n<TABLE height=8 cellSpacing=0 cellPadding=4 width=761 align=center border=0>\r\n  <TBODY>\r\n  <TR>\r\n    <TD vAlign=top width=154 background=\"".getBytes("UTF8");
      _jsp_string23 = "\"\r\n				 ".getBytes("UTF8");
      _jsp_string15 = "\r\n<TABLE height=47 cellSpacing=0 cellPadding=0 width=761 align=center border=0>\r\n  <TBODY>\r\n  <TR>\r\n    <TD width=162><IMG height=47 alt=\"\"  src=\"".getBytes("UTF8");
      _jsp_string25 = "/index.do?lang=".getBytes("UTF8");
      _jsp_string2 = "\r\n\r\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">\r\n<HTML><HEAD><TITLE>MyConf.org--".getBytes("UTF8");
      _jsp_string14 = "</font></SPAN></DIV></TD>\r\n          <TD align=right>&nbsp;</TD></TR></TBODY></TABLE>\r\n     </TD>\r\n   </TR>\r\n</TBODY>\r\n</TABLE>\r\n".getBytes("UTF8");
      _jsp_string24 = "			 \r\n				 	href=\"".getBytes("UTF8");
      _jsp_string16 = "images/index_05.jpg\" width=162></TD>\r\n    <TD vAlign=top align=right>\r\n      <DIV align=right></DIV></TD>\r\n    <TD width=15>&nbsp;</TD></TR>\r\n   </TBODY>\r\n</TABLE>\r\n".getBytes("UTF8");
      _jsp_string30 = "<img src=\"".getBytes("UTF8");
      _jsp_string7 = "\r\n		\r\n		 </td>\r\n	</tr>\r\n</table>\r\n".getBytes("UTF8");
      _jsp_string13 = "</span></TD>\r\n          <TD align=right width=50>&nbsp;</TD></TR>\r\n        <TR>\r\n          <TD>\r\n            <DIV align=left><SPAN ><font color='#ff6600' size='3'>".getBytes("UTF8");
      _jsp_string35 = "images/index_14.jpg\">\r\n      <DIV align=center>Copyright: ".getBytes("UTF8");
      _jsp_string37 = "</DIV></TD></TR></TBODY></TABLE>\r\n<DIV align=center><BR>\r\n<DIV align=center><BR><A href=\"http://www.myconf.org\" target=\"_blank\">Powered by MyConf 1.0</A> </DIV>\r\n</BODY></HTML>\r\n".getBytes("UTF8");
      _jsp_string28 = " \r\n                   target=\"".getBytes("UTF8");
      _jsp_string0 = "\r\n".getBytes("UTF8");
      _jsp_string8 = "\r\n\r\n<TABLE height=\"".getBytes("UTF8");
      _jsp_string21 = " \r\n              <TR align=left>\r\n                <TD><A class=mainlevel \r\n                ".getBytes("UTF8");
      _jsp_string3 = "</TITLE>\r\n</HEAD>\r\n<BODY>\r\n<LINK href=\"".getBytes("UTF8");
      _jsp_string32 = "</A>\r\n                </TD>\r\n              </TR>\r\n      			".getBytes("UTF8");
      _jsp_string33 = "	\r\n      \r\n                </TBODY>\r\n              </TABLE>\r\n             </TD>\r\n            </TR>\r\n           </TBODY>\r\n        </TABLE>\r\n     </TD>\r\n    <TD vAlign=top>\r\n     \r\n      <HR>\r\n\r\n     \r\n      <TABLE class=contentpaneopen>\r\n        <TBODY>\r\n       \r\n        <TR>\r\n          <TD vAlign=top>\r\n          	".getBytes("UTF8");
      _jsp_string5 = "\r\n<table width=\"765\"  align=\"center\">\r\n	<tr>\r\n		<td  bgcolor=\"EDC3AA\">\r\n		".getBytes("UTF8");
      _jsp_string11 = "images/index_03.jpg".getBytes("UTF8");
      _jsp_string10 = "\" cellSpacing=0 cellPadding=0 width=761 align=center border=0>\r\n  <TBODY>\r\n  <TR>\r\n    <TD vAlign=top align=right  background=\"".getBytes("UTF8");
      _jsp_string18 = "images/index_08.jpg\" width=162></TD>\r\n    <TD><IMG height=8 alt=\"\" src=\"".getBytes("UTF8");
      _jsp_string22 = "\r\n                 href=\"".getBytes("UTF8");
      _jsp_string9 = "136".getBytes("UTF8");
      _jsp_string20 = "images/index_11.jpg\">\r\n      <TABLE class=moduletable cellSpacing=0 cellPadding=0>\r\n        <TBODY>\r\n        <TR>\r\n          <TD>\r\n            <TABLE cellSpacing=0 cellPadding=0 width=\"100%\" border=0>\r\n              <TBODY>\r\n            	  ".getBytes("UTF8");
      _jsp_string36 = " &nbsp;&nbsp;&nbsp;Email: ".getBytes("UTF8");
      _jsp_string27 = "\"\r\n               			 ".getBytes("UTF8");
      _jsp_string12 = "\">\r\n      <TABLE cellSpacing=0 cellPadding=0 width=370 align=right border=0>\r\n        <TBODY>\r\n        <TR>\r\n          <TD align=right height=35><span class=\"maintitle\">".getBytes("UTF8");
      _jsp_string17 = "\r\n<TABLE height=8 cellSpacing=0 cellPadding=0 width=761 align=center border=0>\r\n  <TBODY>\r\n  <TR>\r\n    <TD width=162><IMG height=8 alt=\"\" src=\"".getBytes("UTF8");
      _jsp_string29 = "\">".getBytes("UTF8");
      _jsp_string34 = "\r\n          </TD></TR>\r\n       </TBODY></TABLE>\r\n      \r\n     \r\n      <HR>\r\n      <BR></TD>\r\n    <TD width=7></TD></TR></TBODY></TABLE>\r\n<TABLE height=45 cellSpacing=0 cellPadding=0 width=766 align=center border=0>\r\n  <TBODY>\r\n  <TR>\r\n    <TD vAlign=center align=middle \r\n    background=\"".getBytes("UTF8");
      _jsp_string31 = "/images/new1.gif\" border=\"0\" />".getBytes("UTF8");
      _jsp_string26 = "&contentId=".getBytes("UTF8");
      _jsp_string4 = "css/template.css\"   type=text/css rel=stylesheet>\r\n\r\n".getBytes("UTF8");
      _jsp_string6 = "\r\n		\r\n		\r\n			".getBytes("UTF8");
      _jsp_string1 = "\r\n\r\n".getBytes("UTF8");
    } catch (java.io.UnsupportedEncodingException e) {
      e.printStackTrace();
    }
  }
}
